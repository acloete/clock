<!doctype html>
<meta charset="utf-8">
<title>Clock</title>
<link rel="manifest" href="manifest.json">
<style>
html, body {
  height: 100%;
}
body {
  margin: 0;
  background-color: #000;
  color: #aaa;
}
div {
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: min(33vw, 100vh);
  font-family: monospace;
  line-height: 1;
  overflow: hidden;
  height: 100%;
  width: 100%;
  user-select: none;
}
</style>
<div>09:45</div>
<script type="module">
function tick() {
  const now = new Date();
  document.getElementsByTagName('div')[0].innerText = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
  window.setTimeout(tick, (60-now.getSeconds())*1000 - now.getMilliseconds());
}

tick();

if (navigator.wakeLock) {
  navigator.wakeLock.request();
  document.addEventListener('visibilitychange', () => {
    if (document.visibilityState === 'visible') {
      navigator.wakeLock.request();
    }
  });
}
</script>
